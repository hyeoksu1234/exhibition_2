# 전시 아카이브 웹사이트

## Supabase 연동

1. Supabase 프로젝트 생성 후 `designers` 테이블을 아래 스키마로 준비합니다.

```sql
create table designers (
  id bigint generated by default as identity primary key,
  name text not null,
  major text,
  studio text not null,
  profile_image text,
  profile_blur_data_url text,
  profile_width int,
  profile_height int,
  bio text,
  email text,
  instagram text,
  website text,
  interview1 text,
  interview2 text,
  student_number text
);
```

2. 생성된 API 키를 `.env` 혹은 Vercel 환경 변수에 추가합니다. (`SUPABASE_URL`, `SUPABASE_SERVICE_ROLE_KEY` 등)
3. 빌드/서버는 `app/lib/services/designers.ts`를 통해 Supabase 데이터를 우선 사용하며, 값이 없으면 기존 로컬 데이터를 사용합니다.

## S3 / CloudFront 연동

1. 프로필 이미지를 저장할 버킷을 생성하고(예: `profiles/images/파일명`), CloudFront 배포를 구성합니다.
2. `.env`에 AWS 자격 증명과 버킷 정보(`ASSETS_BUCKET`, `ASSETS_PROFILE_PREFIX`, `NEXT_PUBLIC_CDN_BASE`)를 기록합니다.
3. `npm run generate:profiles` 스크립트는 `PROFILE_IMAGE_SOURCE=s3`가 설정되면 S3 객체를 읽어 `app/lib/data/profile-image-manifest.ts`를 생성합니다.
4. 생성된 매니페스트는 S3/CDN 경로와 LQIP 블러 데이터를 포함하며, 런타임에서 자동으로 참조됩니다.

## 스크립트

- `npm run generate:profiles`: 프로필 이미지 매니페스트 생성 (S3 또는 로컬 `public/` 지원)
